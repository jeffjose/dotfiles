[{"eventTrigger":"ON_ARCHIVE_EXTRACTED","eventTriggerSettings":{},"id":1651438565380,"name":"Move completed downloads (archive)","script":"var package = archive.getDownloadLinks()[0].getPackage()\n\nvar downloadFolder = package.getDownloadFolder();\n\nvar comment = package.getComment()\n\nvar target = \"/data/completed/\"\n\nif (comment == \"audiobooks\") {\n    target = \"/data/completed/audiobooks/\"\n} else {\n    target = \"/data/completed/\"\n}\n\ngetPath(downloadFolder).moveTo(target)\n\n/*\narchive.getExtractedFilePaths().forEach(function(item) {\n\n    getPath(item).moveTo('/data/completed/' + archiveName)\n\n\n})\n*/\n\n/*\narchive.getDownloadLinks().forEach(function(link) {\n\n    getPath(link.downloadPath).moveTo('/data/completed/' + archiveName + '/original')\n})\n\nif (link.finished) {\n    var isArchive = link.getArchive() != null;\n\n    var packageName = package.getName();\n\n    if (!isArchive) {\n\n        getPath(link.downloadPath).moveTo(\"/data/completed/\" + packageName);\n\n    }\n\n}\n*/","enabled":true},{"eventTrigger":"ON_DOWNLOAD_CONTROLLER_STOPPED","eventTriggerSettings":{},"id":1651437479442,"name":"Move completed downloads (non-archive)","script":"if (link.finished) {\n    var isArchive = link.getArchive() != null;\n\n    var comment = link.getPackage().getComment();\n\n    var target = \"/data/completed\";\n\n    if (!isArchive) {\n\n        if (comment == \"audiobooks\") {\n            target = '/data/completed/audiobooks/'\n        } else {\n            target = \"/data/completed/\"\n        }\n\n\n        getPath(package.getDownloadFolder()).moveTo(target);\n\n    }\n\n}","enabled":true}]